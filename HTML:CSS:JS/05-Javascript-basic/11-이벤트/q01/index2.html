<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>JavaScript</title>
<link rel="stylesheet" href="styles/q01.css">
<style>
body {
    transition: all 500ms;
}

#game {
    height: 358px;
}
#intro {
    transition: all 500ms;
}

.start #intro {
    transform: translate3d(0,-100%,0);
}

.message {
    font-size: 2rem;
}
</style>
<script>
/*
이벤트 기초를 익힐 수 있도록 간단한 게임을 만들어 봅니다.
1. 인트로 화면을 클릭하면 게임화면으로 넘어갑니다. 화면을 덮고 있는 인트로 이미지를 없애면 됩니다.
2. 화면에 있는 유령을 마우스로 클릭해서 모두 없애는 게임입니다.
*/
</script>
</head>
<body>
<div id="game">
	<div id="intro"></div>
	<div id="stage">
		<span class="ghost"></span>
		<span class="ghost"></span>
		<span class="ghost"></span>
		<span class="ghost"></span>
		<span class="ghost"></span>
        <div id="mirror"></div>
	</div>
</div>
<div class="message"></div>

<script src="scripts/q01.js"></script>
<script>
(function () {

    var totalGhosts = 5;

    var elemBody = document.body,
        elemIntro = document.querySelector('#intro'),
        elemStage = document.querySelector('#stage'),
        elemGhosts = document.querySelectorAll('.ghost'),
        elemMessage = document.querySelector('.message')
    ;

    function clickIntro () {
        // elemBody.className = 'start';
        elemBody.classList.add('start');
        // elemBody.classList.remove('start');
    }

    function clickGhost (e) {
        // 함수가 이벤트핸들러로서 실행이 되면, 자동으로 첫번째 매개변수 자리에
        // 이벤트 객체가 들어옵니다.
        // console.log(this);
        // console.log(e.currentTarget);
        // console.log(this === e.currentTarget); // true
        // console.log(e.target);

        if (e.target.classList.contains('ghost')) {
            elemStage.removeChild(e.target);
            totalGhosts--;

            if (totalGhosts === 0) {
                elemMessage.innerHTML = '축하합니다!';
            } else {
                elemMessage.innerHTML = totalGhosts;
            }
        }

        if (e.target.getAttribute('id') === 'mirror') {
            elemBody.style.background = 'red';
        }


    }

    elemIntro.addEventListener('click', clickIntro);
    elemStage.addEventListener('click', clickGhost);

})();
</script>
</body>
</html>



















